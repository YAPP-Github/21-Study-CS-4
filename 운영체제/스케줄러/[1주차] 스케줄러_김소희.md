# 스케줄러

## 장기 스케줄러 : Job scheduler

<aside>
💡 프로세스에게 메모리를 주는 문제

</aside>

메모리를 어떤 프로세스에게 할당할지 결정한다

- 시작 프로세스 중 어떤 것들을 Ready Queue로 보낼 지 결정
- degree of Multiprogramming을 제어
    - 메모리에 올라가는 프로세스의 수 를 제어
- 그러나 우리가 보통 사용하는 Time sharing system에는 장기 스케줄러가 없음
    - 프로세스가 생성되면 무조건 메모리를 주고 ready 상태로

## 단기 스케줄러 : CPU scheduler

<aside>
💡 프로세스에 CPU를 주는 문제

</aside>

- 어떤 프로세스를 다음번에 Running 시킬 지 결정

## 중기 스케줄러 : Swapper

<aside>
💡 프로세스에게 메모리를 뺏는 문제

</aside>

여유 공간 마련을 위해 프로세스를 메모리에서 디스크로 쫒아낸다

- degree of Multiprogramming을 제어

현재 시스템은 장기 스케줄러가 없는 대신 중기 스케줄러가 있다

프로세스를 일단 모두 메모리에 올려놓고, 개수가 너무 많으면 쫓아내는 방식이다

# 스케줄링 알고리즘

## 선점 스케줄링

우선순위가 높은 다른 프로세스가 CPU를 강제로 빼앗아 사용할 수 있는 기법

- 우선 순위가 높은 프로세스를 빠르게 처리할 수 있다
- 주로 빠른 응답 시간을 요구하는 대화식 시분할 시스템에 사용한다
- 선점으로 인한 많은 오버헤드를 초래한다
- 선점을 위해 시간 배당을 위한 인터럽트용 타이머 클럭(Clock)이 필요하다
- `종류` : RR, SRT, 선점 우선순위, 다단계 큐 등

### RR : Round Robin

<aside>
💡 먼저 들어온 프로세스가 CPU를 할당 받고 
할당 받은 시간이 지나면 CPU를 넘겨주고 Ready Queue 뒤로 배치된다

</aside>

- Time Sharing System을 위해 고안된 방식이다
- FCFS 알고리즘을 선점 형태로 변형한 기법이다
- 할당되는 시간이 클 수록 FCFS과 같아지고, 작을수록 context switch와 오버헤드가 발생한다

### SRT : Shortest Remaining Time

<aside>
💡 실행 중인 프로세스와 새로 추가한 프로세스의 실행 시간을 비교하여
가장 짧은 실행 시간을 요구하는 프로세스에게 CPU를 할당한다

</aside>

- SJF 알고리즘을 선점 형태로 변경한 기법이다

## 비선점 스케줄링

이미 할당된 CPU를 다른 프로세스가 강제로 빼앗아 사용할 수 없는 기법

- 프로세스가 CPU를 할당 받으면 해당 프로세스가 완료될 때까지 CPU를 사용한다
- 모든 프로세스에 대한 요구를 공정하게 처리 가능하다
- 일괄 처리 방식에 적합하다
- 중요한 작업이 기다리는 경우가 발생할 수 있다
- 응답시간 예측이 용이하다
- `종류` : FCFS, SJF, 우선순위, HRN, 기한부

### FCFS : First Come First Served (= FIFO)

<aside>
💡 Ready Queue에 도착한 순서에 따라 차례로 CPU를 할당한다

</aside>

- 먼저 도착한 것이 먼저 처리되어 공평하다
- 짧은 작업이 긴 작업을 기다리는 경우가 발생한다

### SJF : Shortest Job First

<aside>
💡 실행 시간이 가장 짧은 프로세스에 먼저 CPU를 할당한다

</aside>

- 평균 대기 시간이 가장 적다
- 긴 작업은 starvation 문제가 발생할 수 있다

### HRN : Hightest Responseraio Next

<aside>
💡 대기 시간과 서비스 시간을 이용해 우선순위를 부여한다

</aside>

- 긴 작업에 불리한 SJF 기법을 보완하기 위한 것으로, 대기 시간과 서비스 시간을 이용한다
- 우선 순위 = (대기 시간 + 서비스 시간) / 서비스 시간
- 우선 순위 값이 높은 것부터 처리되며, 오래 기다릴 수록 우선 순위가 높아진다

### Prioirity

<aside>
💡 Ready Queue에서 기다리는 프로세스마다 우선순위를 부여한다

</aside>